{"version":3,"file":"ng-nier-checkbox.js","sources":["ng://@ng-nier/checkbox/lib/checkbox.service.ts","ng://@ng-nier/checkbox/lib/checkbox.component.ts","ng://@ng-nier/checkbox/lib/checkbox.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CheckboxService {\n\n  constructor() { }\n}\n","import { Component, Input, Output, EventEmitter, ChangeDetectorRef, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'nr-checkbox',\n  // templateUrl: './checkbox.component.pug',\n  template: `\n<div class=\"nr-checkbox\" (click)=\"onClick($event)\">\n  <div [ngClass]=\"{'label': true, 'disabled': disabled, 'is-checked': checked}\">{{label}}</div>\n</div>\n`,\n  styles: [],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => CheckboxComponent),\n      multi: true\n    }\n  ]\n})\nexport class CheckboxComponent implements ControlValueAccessor {\n\n  @Input()\n  label: string = ''\n\n  @Input()\n  value: boolean\n\n  @Input()\n  disabled: boolean\n\n  @Output()\n  onChange: EventEmitter<any> = new EventEmitter()\n\n  model\n  onModelChange: Function = () => {}\n  onModelTouched: Function = () => {}\n\n  constructor(private cd: ChangeDetectorRef) {}\n\n  checked: boolean = false\n\n  onClick(event) {\n    event.preventDefault()\n    if (this.disabled) {\n      return\n    }\n\n    this.checked = !this.checked\n    this.updateModel()\n  }\n\n  updateModel() {\n    if (Object.prototype.toString.call(this.model) === '[object Array]') {\n      if (this.checked) {\n        this.addValue()\n      } else {\n        this.removeValue()\n      }\n      this.onModelChange(this.model)\n    } else {\n      this.onModelChange(this.checked)\n    }\n    this.onChange.emit(this.checked)\n  }\n\n  addValue() {\n    if (this.value !== undefined) {\n      this.model = [...this.model, this.value]\n    }\n  }\n  removeValue() {\n    if (this.value !== undefined) {\n      this.model = this.model.filter(v => v !== this.value)\n    }\n  }\n\n  writeValue(model) {\n    this.model = model\n    if (Object.prototype.toString.call(this.model) === '[object Array]') {\n      if (this.value !== undefined) {\n        this.checked = this.model.indexOf(this.value) > -1\n      }\n    } else {\n      this.checked = this.model\n    }\n    this.cd.markForCheck()\n  }\n\n  registerOnChange(fn: Function) {\n    this.onModelChange = fn\n  }\n\n  registerOnTouched(fn: Function) {\n    this.onModelTouched = fn\n  }\n\n}\n","import { NgModule, forwardRef } from '@angular/core';\nimport { CheckboxComponent } from './checkbox.component';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  declarations: [CheckboxComponent],\n  imports: [\n    CommonModule\n  ],\n  exports: [CheckboxComponent]\n})\nexport class CheckboxModule { }\n"],"names":[],"mappings":";;;;;;;;AAAA,MAKa,eAAe;IAE1B,iBAAiB;;;YALlB,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;ACJD,MAoBa,iBAAiB;;;;IAkB5B,YAAoB,EAAqB;QAArB,OAAE,GAAF,EAAE,CAAmB;QAfzC,UAAK,GAAW,EAAE,CAAA;QASlB,aAAQ,GAAsB,IAAI,YAAY,EAAE,CAAA;QAGhD,kBAAa;;;QAAa,SAAQ,EAAA;QAClC,mBAAc;;;QAAa,SAAQ,EAAA;QAInC,YAAO,GAAY,KAAK,CAAA;KAFqB;;;;;IAI7C,OAAO,CAAC,KAAK;QACX,KAAK,CAAC,cAAc,EAAE,CAAA;QACtB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,OAAM;SACP;QAED,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,CAAA;QAC5B,IAAI,CAAC,WAAW,EAAE,CAAA;KACnB;;;;IAED,WAAW;QACT,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,gBAAgB,EAAE;YACnE,IAAI,IAAI,CAAC,OAAO,EAAE;gBAChB,IAAI,CAAC,QAAQ,EAAE,CAAA;aAChB;iBAAM;gBACL,IAAI,CAAC,WAAW,EAAE,CAAA;aACnB;YACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;SAC/B;aAAM;YACL,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;SACjC;QACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;KACjC;;;;IAED,QAAQ;QACN,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5B,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;SACzC;KACF;;;;IACD,WAAW;QACT,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;YAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM;;;;YAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,EAAC,CAAA;SACtD;KACF;;;;;IAED,UAAU,CAAC,KAAK;QACd,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;QAClB,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,gBAAgB,EAAE;YACnE,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;gBAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA;aACnD;SACF;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAA;SAC1B;QACD,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAA;KACvB;;;;;IAED,gBAAgB,CAAC,EAAY;QAC3B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAA;KACxB;;;;;IAED,iBAAiB,CAAC,EAAY;QAC5B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAA;KACzB;;;YA5FF,SAAS,SAAC;gBACT,QAAQ,EAAE,aAAa;;gBAEvB,QAAQ,EAAE;;;;CAIX;gBAEC,SAAS,EAAE;oBACT;wBACE,OAAO,EAAE,iBAAiB;wBAC1B,WAAW,EAAE,UAAU;;;wBAAC,MAAM,iBAAiB,EAAC;wBAChD,KAAK,EAAE,IAAI;qBACZ;iBACF;aACF;;;;YAnBgD,iBAAiB;;;oBAsB/D,KAAK;oBAGL,KAAK;uBAGL,KAAK;uBAGL,MAAM;;;;IATP,kCACkB;;IAElB,kCACc;;IAEd,qCACiB;;IAEjB,qCACgD;;IAEhD,kCAAK;;IACL,0CAAkC;;IAClC,2CAAmC;;IAInC,oCAAwB;;;;;IAFZ,+BAA6B;;;;;;;ACtC3C,MAWa,cAAc;;;YAP1B,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,iBAAiB,CAAC;gBACjC,OAAO,EAAE;oBACP,YAAY;iBACb;gBACD,OAAO,EAAE,CAAC,iBAAiB,CAAC;aAC7B;;;;;;;;;;;;;;;"}