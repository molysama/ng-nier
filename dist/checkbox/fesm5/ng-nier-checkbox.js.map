{"version":3,"file":"ng-nier-checkbox.js","sources":["ng://@ng-nier/checkbox/lib/checkbox.service.ts","ng://@ng-nier/checkbox/lib/checkbox.component.ts","ng://@ng-nier/checkbox/lib/checkbox.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CheckboxService {\n\n  constructor() { }\n}\n","import { Component, Input, Output, EventEmitter, ChangeDetectorRef, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n  selector: 'nr-checkbox',\n  // templateUrl: './checkbox.component.pug',\n  template: `\n<div class=\"nr-checkbox\" (click)=\"onClick($event)\">\n  <div [ngClass]=\"{'label': true, 'disabled': disabled, 'is-checked': checked}\">{{label}}</div>\n</div>\n`,\n  styles: [],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => CheckboxComponent),\n      multi: true\n    }\n  ]\n})\nexport class CheckboxComponent implements ControlValueAccessor {\n\n  @Input()\n  label: string = ''\n\n  @Input()\n  value: boolean\n\n  @Input()\n  disabled: boolean\n\n  @Output()\n  onChange: EventEmitter<any> = new EventEmitter()\n\n  model\n  onModelChange: Function = () => {}\n  onModelTouched: Function = () => {}\n\n  constructor(private cd: ChangeDetectorRef) {}\n\n  checked: boolean = false\n\n  onClick(event) {\n    event.preventDefault()\n    if (this.disabled) {\n      return\n    }\n\n    this.checked = !this.checked\n    this.updateModel()\n  }\n\n  updateModel() {\n    if (Object.prototype.toString.call(this.model) === '[object Array]') {\n      if (this.checked) {\n        this.addValue()\n      } else {\n        this.removeValue()\n      }\n      this.onModelChange(this.model)\n    } else {\n      this.onModelChange(this.checked)\n    }\n    this.onChange.emit(this.checked)\n  }\n\n  addValue() {\n    if (this.value !== undefined) {\n      this.model = [...this.model, this.value]\n    }\n  }\n  removeValue() {\n    if (this.value !== undefined) {\n      this.model = this.model.filter(v => v !== this.value)\n    }\n  }\n\n  writeValue(model) {\n    this.model = model\n    if (Object.prototype.toString.call(this.model) === '[object Array]') {\n      if (this.value !== undefined) {\n        this.checked = this.model.indexOf(this.value) > -1\n      }\n    } else {\n      this.checked = this.model\n    }\n    this.cd.markForCheck()\n  }\n\n  registerOnChange(fn: Function) {\n    this.onModelChange = fn\n  }\n\n  registerOnTouched(fn: Function) {\n    this.onModelTouched = fn\n  }\n\n}\n","import { NgModule, forwardRef } from '@angular/core';\nimport { CheckboxComponent } from './checkbox.component';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  declarations: [CheckboxComponent],\n  imports: [\n    CommonModule\n  ],\n  exports: [CheckboxComponent]\n})\nexport class CheckboxModule { }\n"],"names":[],"mappings":"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"}